// Generated by CoffeeScript 1.6.2
(function() {
  var absoluteUrl, nextPage, prerender;

  absoluteUrl = function(url, hostname) {
    var base, resolver;

    base = $("base")[0];
    if (base == null) {
      base = $("<base>").appendTo("head")[0];
    }
    base.href = hostname;
    resolver = document.createElement('a');
    resolver.href = url;
    return resolver.href;
  };

  nextPage = function() {
    var href;

    href = $(".next_page:first").attr("href");
    if (url('hostname', href) == null) {
      href = absoluteUrl(href, url('hostname'));
    }
    return href;
  };

  prerender = function() {
    var nextPageUrl;

    nextPageUrl = nextPage();
    if (nextPageUrl == null) {
      return;
    }
    console.log("Prerendering: " + nextPageUrl);
    return $("<link rel='prerender' href='" + nextPageUrl + "'>").appendTo("head");
  };

  prerender();

}).call(this);
